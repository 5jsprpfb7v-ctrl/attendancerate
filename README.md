このアプリはGensparkで作りました。Gensparkすごい！

# 学校用 出席管理アプリ

## 概要
このアプリは、学校の出席管理を効率的に行うためのツールです。複数の教科を管理し、出席率の自動計算や目標達成に必要な残り許容欠席数を表示します。

## 主な機能

### 1. 全体設定
- **目標出席率設定**: ユーザーが目標出席率（デフォルト60%）を設定できます
- 数値入力フィールドで直接入力可能

### 2. 教科管理（カード形式）
各教科は独立したカードとして管理され、以下の機能を備えています：

#### 入力項目
- **教科名**: 編集可能なテキストフィールド
- **総コマ数**: 学期中の全授業数を設定

#### 操作ボタン
- **出席数調整**: ＋/－ボタンで出席数を増減
- **欠席数調整**: ＋/－ボタンで欠席数を増減

#### 自動計算表示
- **現在の出席率**: リアルタイムで計算・表示
  - 緑色: 目標達成
  - オレンジ: 目標-10%以内
  - 赤色: 目標-10%以下
- **残りコマ数**: 残りの授業数
- **残り許容欠席数**: 目標出席率を維持するために、これから欠席してもよい回数

### 3. アプリ操作
- **教科の追加**: 「教科を追加」ボタンで新規教科を作成
- **教科の削除**: 各カードの「削除」ボタン
- **データの永続化**: LocalStorageを使用して、ブラウザをリロードしてもデータが保持される

### 4. デザイン特徴
- **モバイル対応**: レスポンシブデザインでスマートフォンでも快適に操作
- **大きめのボタン**: タッチ操作しやすいサイズ
- **直感的なUI**: カード形式で情報を整理

## ファイル構造
```
index.html          # メインHTMLファイル
css/style.css       # スタイルシート
js/app.js          # JavaScriptロジック
```

## 技術仕様
- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **データ保存**: LocalStorage API
- **デザイン**: レスポンシブデザイン, モバイルファースト

## 使用方法

### 基本的な使い方
1. アプリを開くと、デフォルトで60%の目標出席率が設定されています
2. 「教科を追加」ボタンをクリックして新規教科を作成
3. 教科名を入力し、総コマ数を設定
4. 出席/欠席ボタンで実績を記録
5. 自動計算された統計情報を確認

### 総コマ数の設定
- デフォルトで空欄（未設定）
- 空欄の場合は「残りコマ数」「残り許容欠席数」に「-」を表示
- 0または負の数を入力すると空欄になる
- 空欄の場合、出席数・欠席数の入力に制限なし
- 総コマ数を設定すると、出席数+欠席数がその数を超えないように自動調整

### キーボード操作
より効率的に操作するため、以下のキーボードショートカットを使用できます：

#### 出席数・欠席数の調整
- **↑（上矢印）**: 選択中の項目を1増やす
- **↓（下矢印）**: 選択中の項目を1減らす
- **Shift + ↑**: 選択中の項目を5増やす
- **Shift + ↓**: 選択中の項目を5減らす
- **数字キー（0-9）**: 直接数値を入力可能
- **Enter**: 入力を確定して次の項目へ移動
- **Tab**: 次の入力項目へ移動

#### 使用例
1. 出席数の入力フィールドをクリックまたはタブで選択
2. 上矢印/下矢印キーで増減
3. または直接数字を入力してEnterで確定
4. Tabキーで次の項目（欠席数）へ移動

### データの管理
- データは自動的にブラウザに保存される
- 「すべてのデータをクリア」ボトンで初期化可能（ページ下部）

## 計算ロジック

### 出席率計算
```
出席率 = (出席数 ÷ (出席数 + 欠席数)) × 100
```
**重要**: 出席率は出席数と欠席数から計算され、総コマ数とは独立しています。

### 残りコマ数
```
総コマ数が空欄の場合: 「-」を表示
総コマ数が設定されている場合: max(0, 総コマ数 - 出席数 - 欠席数)
```

### 残り許容欠席数
総コマ数が空欄の場合は「-」を表示
総コマ数が設定されている場合は、目標出席率を維持するために計算

### 残り許容欠席数
目標出席率を維持するために、残りのコマで欠席できる最大回数を計算：
```
必要出席数 = ceil(総コマ数 × 目標出席率)
残りコマ数 = max(0, 総コマ数 - 出席数 - 欠席数)
必要な追加出席数 = max(0, 必要出席数 - 出席数)
残り許容欠席数 = max(0, 残りコマ数 - 必要な追加出席数)
```

## エラーハンドリング
- 無効な入力値は自動的に修正される
- 負の数や論理的に不可能な値は許可されない
- 各操作に対して適切なバリデーションが実装されている

## ブラウザ互換性(調べていない)
- Chrome, Firefox, Safari, Edge などのモダンブラウザ対応
- iOS Safari, Android Chrome などのモバイルブラウザ対応

## 今後の改善案(やらない)
- CSVエクスポート機能
- グラフでの可視化
- 複数学期の管理
- 出席理由の記録
- 通知機能
